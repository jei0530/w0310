<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전역변수와 지역변수</title>
</head>

<body>
    <script>
        /* 

            for (let i =0; i<5; i++){
                console.log('블록');
            }

            for (let i =0; i<5; i++){
                console.log('블록');
            }

            let이 두갠데 왜 오류가 안나지?
            지역변수이기 때문에 위아래 식의 i는 다른 i임

            let i =0;
            이렇게 바깥쪽에서 선언함 변수가 전역변수

            변수의 scope
                1. 함수레벨스코프 -> fuction(){블록} 
                    -> var은 함수 블록에서만 지역변수가 존재

                2. 블록레벨스코프 -> {블록} 
                    -> let, const
                    -> 블록{}이나 제어문 블록{}에서도 지역변수 선언 가능

                - 즉 전역변수는 블록 밖에 선언해서 안에서도 사용이 가능하며
                변수이름이 같으면 지역변수가 우선적용된다
                - 지역변수는 블록 안에 선언되어 블록을 벗어나면 소멸된다

            const 변수1;
            fuction 함수 (){
            }
            const 변수2;

            fuction 함수 (){
                const 변수3;
            }
        */

        let a = 10;
        console.log('전역변수', a);
        //전역변수 10

        for (let i = 0; i < 1; i++) {
            console.log(i); // 첫번째 for 지역변수
            console.log(a); // 전역변수
        }

        for (let i = 0; i < 1; i++) {
            console.log(i); // 두번째 for 지역변수
        }

        console.log(a); //전역변수
        //얘도 10이 나옴 지역변수 (let i =0;)은 for을 벗어나면 메모리에서 제거됨

        let kor = 90; //전역변수

        function getScore() {
            kor = 100; //전역변수
            console.log(kor); //100
        }

        getScore();
        console.log(kor); //100
        // 왜 지역변수가 아니냐면 값이 90에서 100으로 그냥 바뀐것임 
        // 지역변수로 만약에 새롭게 선언하고 싶다면 변수명을 다르게 해야함
        // 함수에서는 괄호 안에 같은 값을 선언하면 값이 달라지는 전역변수임

        // 비교예시 (let이라 같은 변수 선언 못해서 eng로 바꿈)
        let eng = 50; //전역변수
        console.log(eng); //50

        function getScore2() {
            let eng = 100; //지역변수 앞에 let을 붙이면 지역변수가 됨
            let his = 90;
            console.log(eng); //100
        }

        getScore2();
        console.log(eng); //전역변수 50
        // console.log(his); 
        // 지역변수 his는 출력이 안됨 함수를 벗어나면 메모리가 사라짐

        // var let cost 비교예시
        var num = 10;
        {
            var num = 20;
            console.log(num); //20
            // 이유는 fuction의 {}가 아니기 때문이다
            // var을 사용하면 전역변수
        }
        console.log(num); //20

        let num2 = 10;
        {
            let num2 = 20;
            console.log(num2); //20
            // 이유는 fuction의 {}가 아니기 때문이다
            // let을 사용하면 지역변수
        }
        console.log(num2); //10

        const num3 = 10;
        {
            const num3 = 20;
            console.log(num3); //20
            // 이유는 fuction의 {}가 아니기 때문이다
            // let을 사용하면 지역변수
        }
        console.log(num3); //10

        //예시- var
        var num = 10; // 전역변수
        if(num === 10){
            var sum = 20; // 전역변수
        }
        console.log(sum);
    

        //예시 - let
        let num4 = 10; // 전역변수
        if(num4 === 10){
            let sum4 = 20; // 지역변수
        }
        // console.log(sum4); //지역변수값을 못 찾아서 에러

        //함수의 전역변수
        var sum1 = 10;
        function add1(){
            sum1 = 20; //전역변수
            var sum1 = 20; //지역변수
        }
        add1();
        console.log('전역' + sum1); //전역10

        //함수의 지역변수
        var sum2 = 30;
        function add2(){
            var sum2 = 40;
            console.log('지역' +sum2);
        }
        add2();
        console.log('전역' + sum2);

        //블록의 전역변수
        var num1 = 50; //전역변수
        if (num === 50){
            var num1 = 60; //전역변수 재선언
        }
        console.log('전역' + num1); //전역50

        //블록의 지역변수
        let num5 = 70; //전역변수
        if (num5 === 70){
            let num5 = 80; //지역변수
            console.log('지역' + num5); //지역80
        }

        console.log('전역' +num2);
        
        /* 
            즉 var은 함수 안에서 말곤 전부 전역변수가 됨
        */
    </script>
</body>

</html>